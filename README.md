# e-Paper 13.3インチ ディスプレイ表示アプリ

## 概要
本プロジェクトは、Raspberry Pi上で13.3インチのe-Paperディスプレイに画像を表示するためのC言語プログラムです。BCM2835ライブラリを利用してハードウェアを直接制御します。

## 主な機能
- 13.3インチe-Paperディスプレイの制御
- BMP形式およびPNG形式の画像ファイルの読み込みと表示
- 6色カラー表示対応
- 割り込み処理（Ctrl+C）による安全な終了処理

## システム要件
- Raspberry Pi (BCM2835ライブラリ対応モデル)
- 13.3インチ e-Paper ディスプレイ
- Cコンパイラ (GCC)
- BCM2835 ライブラリ
- libpng

## セットアップ
1. **依存ライブラリのインストール**

   `libpng`とビルドに必要なツールをインストールします。
   ```bash
   sudo apt-get update
   sudo apt-get install -y libpng-dev build-essential
   ```
   `BCM2835`ライブラリは、[公式サイト](http://www.airspayce.com/mikem/bcm2835/)の指示に従ってインストールしてください。

2. **ビルド**

   `Makefile`を使ってプロジェクトをビルドします。
   ```bash
   make
   ```
   成功すると、実行ファイル `epd` が生成されます。

## 使用方法
以下のコマンドでプログラムを実行します。画像ファイルへのパスを引数として渡してください。

```bash
# 実行には管理者権限が必要です
sudo ./epd <画像ファイルパス>
```

**実行例:**
```bash
sudo ./epd path/to/your/image.png
```

サポートされる画像形式：
- BMP（デフォルト）
- PNG

## ディレクトリ構成
```
.
├── Makefile        # ビルド設定
├── README.md       # このファイル
├── src/            # ソースコード
│   ├── main.c          # メインプログラム
│   ├── DEV_Config.c/h  # デバイス設定
│   ├── EPD_13in3e.c/h  # e-Paperドライバー
│   ├── ImageData.c/h   # Bitmapデータ処理
│   └── ImageData_png.c/h # PNG画像処理
├── bin/            # ビルド成果物（自動生成）
├── log/            # 動作ログ（任意）
└── epd             # ビルド成果物（実行ファイル）
```

## 注意事項
- プログラムの実行には、BCM2835ライブラリの仕様により管理者権限 (`sudo`) が必要です。
- プログラム終了時（正常終了またはCtrl+Cでの中断時）には、ディスプレイを保護するため自動的にスリープモードに移行します。

## 開発環境
- 言語: C
- コンパイラ: GCC
- ライブラリ: BCM2835, libpng
- ターゲット: Raspberry Pi

## ライセンス
このプロジェクトはMITライセンスの下で公開されています。